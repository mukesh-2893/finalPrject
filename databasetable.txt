show databases;
create database Careclub;
use careclub;

create table liscence_no
(
    licence_id int4 not null ,
    ngo_name varchar(50),
    reg_no int4 not null,
    primary key(licence_id)
);

create table m_category
(
    category_id int4 not null,
    category_name varchar(50),
    primary key(category_id)
);

create table m_role
(
    role_id int4 not null,
    role varchar(50),
    primary key(role_id)
);

create table m_requirement
(
    req_id int4 not null,
    req_name varchar(50),
    primary key(req_id)
);

create table m_donationType
(
    donationType_id int4 not null,
    donationType_name varchar(50),
    primary key(donationType_id)
);

create table m_donationStatus
(
    status_id int4 not null,
    status varchar(50),
    primary key(status_id)
);

create table bankAccount_details
(	
    account_id int4 not null ,
    bank_name varchar(50),
    account_holder_name varchar(50),
    account_no int4,
    ifsc_code varchar(50),
    primary key(account_id)
);

create table address
(
    address_id int4 not null,
    roomNo varchar(20),
    area varchar(30),
    city varchar(30),
    district varchar(30),
    pincode int4,
    primary key(address_id)
);

create table user
(
     user_id int4 not null,
     role_id int4,
     name varchar(30),
     password varchar(30),
     email varchar(50),
     mobile_no varchar(20),
     address_id int4,
     primary key(user_id),
     FOREIGN KEY (address_id) REFERENCES address(address_id),
     FOREIGN KEY (role_id) REFERENCES m_role(role_id)
);

create table ngo_details
(
    user_id int4, 
    category_id int4,
    ngo_ownerName varchar(50),
    member_count int4,
    volunteer_count int4,
    account_id int4,
    ngo_profilePic blob,
    ngo_profileDesc varchar(200),
    FOREIGN KEY (user_id) REFERENCES user(user_id),
    FOREIGN KEY (category_id) REFERENCES m_category(category_id),
    FOREIGN KEY (account_id) REFERENCES bankAccount_details(account_id)
);

create table post
(
    post_id int4 not null,
    user_id int4,
    likes int4,
    media longblob,
    post_desc varchar(999),
    time_stamp TIMESTAMP ,
    primary key(post_id),
    FOREIGN KEY (user_id) REFERENCES user(user_id)  
);

create table post_requirement
(
    post_id int4 ,
    req_id int4,
    FOREIGN KEY (post_id) REFERENCES post(post_id) ,
    FOREIGN KEY (req_id) REFERENCES m_requirement(req_id) 
);

create table commentBox
(
    comment_id int4,
    post_id int4,
    user_id int4,
    message varchar(100),
    time_stamp TIMESTAMP,
    primary key(comment_id),
    FOREIGN KEY (post_id) REFERENCES post(post_id) ,
    FOREIGN KEY (user_id) REFERENCES user(user_id)
);

create table donation
(
    donation_id int4 not null,
    post_id int4,
    user_id int4,
    donationType_id int4,
    status_id int4,
    time_stamp TIMESTAMP,
    primary key(donation_id),
    FOREIGN KEY (post_id) REFERENCES post(post_id) ,
    FOREIGN KEY (user_id) REFERENCES user(user_id),
    FOREIGN KEY (donationType_id) REFERENCES m_donationType(donationType_id),
    FOREIGN KEY (status_id) REFERENCES m_donationStatus(status_id)
);

create table donation_requirement
(
    donation_id int4 ,
    req_id int4,
    FOREIGN KEY (donation_id) REFERENCES donation(donation_id) ,
    FOREIGN KEY (req_id) REFERENCES m_requirement(req_id) 
);